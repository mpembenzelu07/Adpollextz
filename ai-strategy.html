<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Strategy Generator | Ad Pollex - 3D Marketing Visualization</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --primary: #000000;
            --accent: #FF3B30;
            --ai-blue: #00D4FF;
            --ai-purple: #8A2BE2;
            --white: #FFFFFF;
            --gray: #8E8E93;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background: var(--white);
            overflow-x: hidden;
        }

        /* HEADER & NAVIGATION */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

        .logo-symbol {
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: var(--white);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            font-size: 1.25rem;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
        }

        .logo-sub {
            font-size: 0.7rem;
            color: var(--accent);
            font-weight: 600;
            text-transform: uppercase;
        }

        /* NAVIGATION TABS */
        .nav-desktop {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-desktop a {
            text-decoration: none;
            color: var(--primary);
            font-weight: 500;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-desktop a:hover {
            background: rgba(255, 59, 48, 0.1);
            color: var(--accent);
        }

        .nav-desktop a.active {
            background: var(--ai-blue);
            color: var(--white);
        }

        .nav-desktop a.btn-primary {
            background: var(--accent);
            color: var(--white);
            padding: 0.75rem 1.5rem;
        }

        .nav-desktop a.btn-primary:hover {
            background: #cc0000;
            transform: translateY(-2px);
        }

        /* PAGE HERO */
        .page-hero {
            padding: 8rem 2rem 4rem;
            background: linear-gradient(135deg, #000428 0%, #004e92 100%);
            color: var(--white);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .page-hero h1 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--ai-blue), var(--white));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 2;
        }

        .page-hero p {
            font-size: 1.25rem;
            color: rgba(255,255,255,0.9);
            max-width: 800px;
            margin: 0 auto 2rem;
            position: relative;
            z-index: 2;
        }

        /* 3D CONTAINER */
        .three-d-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        #threeCanvas {
            width: 100%;
            height: 100%;
        }

        /* AI FORM SECTION */
        .ai-section {
            padding: 4rem 2rem;
            background: #f5f5f7;
        }

        .ai-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .ai-form {
            background: var(--white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--ai-blue);
        }

        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%238E8E93' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            padding-right: 3rem;
        }

        .form-slider {
            width: 100%;
            margin: 1rem 0;
        }

        .slider-value {
            text-align: center;
            font-weight: 600;
            color: var(--ai-blue);
            font-size: 1.5rem;
            margin-top: 0.5rem;
        }

        .btn-ai {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--ai-blue), var(--accent));
            color: var(--white);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
            cursor: pointer;
            width: 100%;
            justify-content: center;
            font-size: 1.1rem;
        }

        .btn-ai:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,212,255,0.3);
        }

        /* 3D VISUALIZATION SECTION */
        .visualization-section {
            background: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            height: 600px;
        }

        #funnel3d {
            width: 100%;
            height: 100%;
        }

        .visualization-controls {
            position: absolute;
            bottom: 1rem;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 1rem;
            z-index: 10;
        }

        .viz-btn {
            padding: 0.5rem 1rem;
            background: rgba(0,0,0,0.8);
            color: var(--white);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-size: 0.875rem;
            transition: var(--transition);
        }

        .viz-btn:hover {
            background: var(--ai-blue);
            transform: translateY(-2px);
        }

        /* AI PREVIEW */
        .ai-preview {
            background: var(--white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 3px solid var(--ai-blue);
        }

        .ai-preview-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(0,0,0,0.1);
        }

        .ai-icon {
            width: 50px;
            height: 50px;
            background: var(--ai-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .strategy-section {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .strategy-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .strategy-item {
            background: rgba(0,212,255,0.1);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            border-left: 4px solid var(--ai-blue);
        }

        /* 3D STATS VISUALIZATION */
        .stats-3d-section {
            margin-top: 3rem;
            background: linear-gradient(135deg, #000428 0%, #004e92 100%);
            padding: 3rem 2rem;
            border-radius: 12px;
            color: var(--white);
            position: relative;
            overflow: hidden;
        }

        #stats3d {
            width: 100%;
            height: 400px;
        }

        /* FOOTER */
        footer {
            background: var(--primary);
            color: var(--white);
            padding: 4rem 2rem 2rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-links a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .nav-desktop {
                display: none;
            }
            
            .page-hero h1 {
                font-size: 2.5rem;
            }
            
            .ai-container {
                grid-template-columns: 1fr;
            }
            
            .visualization-section {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">
                <div class="logo-symbol">AP</div>
                <div class="logo-text">
                    <div class="logo-main">Ad Pollex</div>
                    <div class="logo-sub">AI Marketing</div>
                </div>
            </a>
            
            <nav class="nav-desktop">
                <a href="index.html">Home</a>
                <a href="services.html">Services</a>
                <a href="ai-strategy.html" class="active">AI Strategy</a>
                <a href="simulator.html">Simulator</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="contact.html">Contact</a>
                <a href="dashboard.html" class="btn-primary">Client Login</a>
            </nav>
        </div>
    </header>

    <section class="page-hero">
        <div class="three-d-container">
            <canvas id="threeCanvas"></canvas>
        </div>
        <div class="hero-content">
            <h1>AI Strategy Generator</h1>
            <p>Watch your marketing strategy come to life in 3D. Our AI creates interactive visualizations of your complete marketing funnel.</p>
        </div>
    </section>

    <section class="ai-section">
        <div class="ai-container">
            <div class="ai-form">
                <form id="strategyForm">
                    <div class="form-group">
                        <label class="form-label">Business Name *</label>
                        <input type="text" class="form-control" id="businessName" placeholder="Enter your business name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Industry *</label>
                        <select class="form-control" id="industry" required>
                            <option value="">Select your industry</option>
                            <option value="ecommerce">E-commerce & Retail</option>
                            <option value="restaurant">Restaurant & Food Service</option>
                            <option value="technology">Technology & SaaS</option>
                            <option value="realestate">Real Estate</option>
                            <option value="health">Health & Wellness</option>
                            <option value="education">Education & Training</option>
                            <option value="tourism">Tourism & Hospitality</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Monthly Marketing Budget *</label>
                        <input type="range" class="form-slider" id="budgetSlider" min="500" max="10000" step="100" value="2000">
                        <div class="slider-value" id="budgetValue">$2,000</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Primary Goal *</label>
                        <select class="form-control" id="primaryGoal" required>
                            <option value="">Select primary goal</option>
                            <option value="awareness">Increase Brand Awareness</option>
                            <option value="leads">Generate More Leads</option>
                            <option value="sales">Increase Sales/Revenue</option>
                            <option value="engagement">Improve Customer Engagement</option>
                            <option value="traffic">Drive Website Traffic</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Target Audience *</label>
                        <input type="text" class="form-control" id="targetAudience" placeholder="e.g., Young professionals aged 25-40" required>
                    </div>
                    
                    <button type="button" class="btn-ai" onclick="generateStrategy()">
                        <i class="fas fa-brain"></i> Generate 3D AI Strategy
                    </button>
                </form>
            </div>
            
            <div class="visualization-section">
                <canvas id="funnel3d"></canvas>
                <div class="visualization-controls">
                    <button class="viz-btn" onclick="rotateFunnel()">
                        <i class="fas fa-sync-alt"></i> Rotate
                    </button>
                    <button class="viz-btn" onclick="zoomIn()">
                        <i class="fas fa-search-plus"></i> Zoom In
                    </button>
                    <button class="viz-btn" onclick="zoomOut()">
                        <i class="fas fa-search-minus"></i> Zoom Out
                    </button>
                    <button class="viz-btn" onclick="resetView()">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>
        </div>
    </section>

    <div class="ai-container" style="margin-top: 3rem;">
        <div class="ai-preview">
            <div class="ai-preview-header">
                <div class="ai-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div>
                    <h3 style="margin: 0; color: var(--ai-blue);">AI Strategy Preview</h3>
                    <p style="margin: 0; color: var(--gray);">Your customized plan will appear here</p>
                </div>
            </div>
            
            <div id="aiResults">
                <div class="strategy-section">
                    <h4 style="color: var(--ai-blue);"><i class="fas fa-calendar-alt"></i> 30-Day Content Calendar</h4>
                    <div class="strategy-item">Week 1: Brand awareness campaign focusing on industry pain points</div>
                    <div class="strategy-item">Week 2: Educational content series addressing audience needs</div>
                    <div class="strategy-item">Week 3: Promotional campaign with special offers</div>
                    <div class="strategy-item">Week 4: Customer testimonials and case studies</div>
                </div>
                
                <div class="strategy-section">
                    <h4 style="color: var(--ai-blue);"><i class="fas fa-chart-pie"></i> Budget Allocation</h4>
                    <div class="strategy-item">65% Social Media Advertising</div>
                    <div class="strategy-item">25% Content Creation & SEO</div>
                    <div class="strategy-item">10% Analytics & Optimization</div>
                </div>
                
                <div class="strategy-section">
                    <h4 style="color: var(--ai-blue);"><i class="fas fa-bullseye"></i> Expected Results</h4>
                    <div class="strategy-item">50,000 - 75,000 people reached in your target audience</div>
                    <div class="strategy-item">5,000 - 10,000 engagements & interactions</div>
                    <div class="strategy-item">500 - 1,000 qualified leads</div>
                    <div class="strategy-item">3x - 5x return on ad spend</div>
                </div>
            </div>
        </div>

        <div class="stats-3d-section">
            <h3 style="color: var(--ai-blue); margin-bottom: 1rem; text-align: center;">3D Performance Visualization</h3>
            <canvas id="stats3d"></canvas>
            <p style="text-align: center; margin-top: 1rem; color: rgba(255,255,255,0.8);">
                Interactive 3D visualization of your campaign performance metrics
            </p>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <div>
                <a href="index.html" class="logo" style="margin-bottom: 1.5rem;">
                    <div class="logo-symbol">AP</div>
                    <div class="logo-text">
                        <div class="logo-main" style="color: white;">Ad Pollex</div>
                    </div>
                </a>
                <p style="color: rgba(255,255,255,0.7);">AI-powered digital marketing agency since 2016.</p>
            </div>
            
            <div class="footer-links">
                <h4 style="margin-bottom: 1rem;">Quick Links</h4>
                <a href="index.html">Home</a>
                <a href="services.html">Services</a>
                <a href="ai-strategy.html">AI Strategy</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="contact.html">Contact</a>
            </div>
            
            <div class="footer-links">
                <h4 style="margin-bottom: 1rem;">Contact</h4>
                <a href="tel:+255684320325">+255 684 320 325</a>
                <a href="mailto:adpollex@gmail.com">adpollex@gmail.com</a>
                <p style="color: rgba(255,255,255,0.7); margin-top: 0.5rem;">Dar es Salaam, Tanzania</p>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Three.js scene for hero background
        let scene, camera, renderer, particles;
        
        function initHeroParticles() {
            // Create scene
            scene = new THREE.Scene();
            
            // Create camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;
            
            // Create renderer
            const canvas = document.getElementById('threeCanvas');
            renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0);
            
            // Create particles
            const particleCount = 1500;
            const particlesGeometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            
            for (let i = 0; i < particleCount * 3; i += 3) {
                // Position
                positions[i] = (Math.random() - 0.5) * 10;
                positions[i + 1] = (Math.random() - 0.5) * 10;
                positions[i + 2] = (Math.random() - 0.5) * 10;
                
                // Color (AI blue to purple gradient)
                colors[i] = 0 + Math.random() * 0.5; // R
                colors[i + 1] = 0.8 + Math.random() * 0.2; // G
                colors[i + 2] = 1; // B
            }
            
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.03,
                vertexColors: true,
                transparent: true,
                opacity: 0.6
            });
            
            particles = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particles);
            
            // Add ambient light
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            // Handle window resize
            window.addEventListener('resize', onWindowResize);
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        function animateHeroParticles() {
            requestAnimationFrame(animateHeroParticles);
            
            // Rotate particles
            particles.rotation.x += 0.001;
            particles.rotation.y += 0.002;
            
            // Move particles in a flowing pattern
            const positions = particles.geometry.attributes.position.array;
            for (let i = 0; i < positions.length; i += 3) {
                positions[i] += Math.sin(Date.now() * 0.001 + i) * 0.001;
                positions[i + 1] += Math.cos(Date.now() * 0.001 + i) * 0.001;
            }
            particles.geometry.attributes.position.needsUpdate = true;
            
            renderer.render(scene, camera);
        }
        
        // 3D Funnel Visualization
        let funnelScene, funnelCamera, funnelRenderer, funnelMesh;
        let isRotating = false;
        let zoomLevel = 5;
        
        function init3DFunnel() {
            const canvas = document.getElementById('funnel3d');
            
            // Create scene
            funnelScene = new THREE.Scene();
            funnelScene.background = new THREE.Color(0xf5f5f7);
            
            // Create camera
            funnelCamera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            funnelCamera.position.set(0, 0, zoomLevel);
            
            // Create renderer
            funnelRenderer = new THREE.WebGLRenderer({ canvas, antialias: true });
            funnelRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
            funnelRenderer.setPixelRatio(window.devicePixelRatio);
            
            // Add lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            funnelScene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(1, 1, 1);
            funnelScene.add(directionalLight);
            
            // Create funnel geometry
            createFunnel();
            
            // Start animation
            animateFunnel();
            
            // Handle resize
            window.addEventListener('resize', onFunnelResize);
        }
        
        function createFunnel() {
            // Remove existing funnel
            if (funnelMesh) {
                funnelScene.remove(funnelMesh);
            }
            
            // Create funnel geometry (conical shape)
            const radiusTop = 0.5;
            const radiusBottom = 2;
            const height = 3;
            const radialSegments = 32;
            
            const geometry = new THREE.ConeGeometry(radiusBottom, height, radialSegments, 1, true);
            
            // Create material with gradient colors
            const material = new THREE.MeshPhongMaterial({
                color: 0x00D4FF,
                transparent: true,
                opacity: 0.8,
                side: THREE.DoubleSide
            });
            
            // Create mesh
            funnelMesh = new THREE.Mesh(geometry, material);
            funnelMesh.position.y = -1;
            funnelScene.add(funnelMesh);
            
            // Add funnel segments (different colors for each stage)
            const stages = [
                { color: 0xFF3B30, name: 'Awareness', height: 0.3 },
                { color: 0xFF9500, name: 'Interest', height: 0.4 },
                { color: 0xFFD700, name: 'Consideration', height: 0.5 },
                { color: 0x4CD964, name: 'Conversion', height: 0.6 },
                { color: 0x007AFF, name: 'Retention', height: 0.2 }
            ];
            
            stages.forEach((stage, index) => {
                const segmentGeometry = new THREE.CylinderGeometry(
                    radiusBottom * (1 - (index * 0.15)),
                    radiusBottom * (1 - ((index + 1) * 0.15)),
                    stage.height,
                    radialSegments
                );
                
                const segmentMaterial = new THREE.MeshPhongMaterial({
                    color: stage.color,
                    transparent: true,
                    opacity: 0.7
                });
                
                const segment = new THREE.Mesh(segmentGeometry, segmentMaterial);
                segment.position.y = -height/2 + (index * stage.height) + stage.height/2;
                funnelScene.add(segment);
            });
        }
        
        function animateFunnel() {
            requestAnimationFrame(animateFunnel);
            
            // Rotate funnel if enabled
            if (isRotating && funnelMesh) {
                funnelMesh.rotation.y += 0.01;
            }
            
            funnelRenderer.render(funnelScene, funnelCamera);
        }
        
        function onFunnelResize() {
            const canvas = document.getElementById('funnel3d');
            funnelCamera.aspect = canvas.clientWidth / canvas.clientHeight;
            funnelCamera.updateProjectionMatrix();
            funnelRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
        }
        
        // Funnel control functions
        function rotateFunnel() {
            isRotating = !isRotating;
            const btn = event.target.closest('.viz-btn');
            if (isRotating) {
                btn.innerHTML = '<i class="fas fa-pause"></i> Pause';
            } else {
                btn.innerHTML = '<i class="fas fa-sync-alt"></i> Rotate';
            }
        }
        
        function zoomIn() {
            if (zoomLevel > 2) {
                zoomLevel -= 0.5;
                funnelCamera.position.z = zoomLevel;
            }
        }
        
        function zoomOut() {
            if (zoomLevel < 10) {
                zoomLevel += 0.5;
                funnelCamera.position.z = zoomLevel;
            }
        }
        
        function resetView() {
            zoomLevel = 5;
            funnelCamera.position.set(0, 0, zoomLevel);
            funnelCamera.lookAt(0, 0, 0);
            if (funnelMesh) {
                funnelMesh.rotation.set(0, 0, 0);
            }
            isRotating = false;
        }
        
        // 3D Stats Visualization
        function init3DStats() {
            const canvas = document.getElementById('stats3d');
            
            // Create scene
            const statsScene = new THREE.Scene();
            statsScene.background = new THREE.Color(0x000428);
            
            // Create camera
            const statsCamera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            statsCamera.position.set(0, 0, 8);
            
            // Create renderer
            const statsRenderer = new THREE.WebGLRenderer({ canvas, antialias: true });
            statsRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
            
            // Add lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            statsScene.add(ambientLight);
            
            const pointLight = new THREE.PointLight(0x00D4FF, 1);
            pointLight.position.set(5, 5, 5);
            statsScene.add(pointLight);
            
            // Create 3D bar chart
            const data = [3, 5, 2, 4, 6]; // Sample data
            const barWidth = 0.5;
            const barSpacing = 1;
            const maxHeight = 4;
            
            data.forEach((value, index) => {
                const height = (value / Math.max(...data)) * maxHeight;
                const geometry = new THREE.BoxGeometry(barWidth, height, barWidth);
                const material = new THREE.MeshPhongMaterial({ 
                    color: new THREE.Color(`hsl(${index * 60}, 100%, 50%)`),
                    transparent: true,
                    opacity: 0.8
                });
                
                const bar = new THREE.Mesh(geometry, material);
                bar.position.x = (index - (data.length - 1) / 2) * barSpacing;
                bar.position.y = height / 2;
                
                statsScene.add(bar);
            });
            
            // Animate
            function animateStats() {
                requestAnimationFrame(animateStats);
                statsScene.rotation.y += 0.005;
                statsRenderer.render(statsScene, statsCamera);
            }
            
            animateStats();
            
            // Handle resize
            window.addEventListener('resize', () => {
                statsCamera.aspect = canvas.clientWidth / canvas.clientHeight;
                statsCamera.updateProjectionMatrix();
                statsRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
            });
        }
        
        // Form functionality
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.nav-desktop a');
            
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });

            // Budget slider functionality
            const budgetSlider = document.getElementById('budgetSlider');
            const budgetValue = document.getElementById('budgetValue');
            
            budgetSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                budgetValue.textContent = `$${value.toLocaleString()}`;
            });

            // Initialize 3D visualizations
            initHeroParticles();
            animateHeroParticles();
            init3DFunnel();
            init3DStats();
        });

        function generateStrategy() {
            // Get form values
            const businessName = document.getElementById('businessName').value;
            const industry = document.getElementById('industry').value;
            const budget = parseInt(document.getElementById('budgetSlider').value);
            const goal = document.getElementById('primaryGoal').value;
            const audience = document.getElementById('targetAudience').value;

            // Validate required fields
            if (!businessName || !industry || !goal || !audience) {
                alert('Please fill in all required fields (marked with *) to generate your strategy.');
                return;
            }

            // Update funnel based on inputs
            updateFunnelVisualization(industry, budget, goal);
            
            // Show success message
            alert(`âœ… 3D AI Strategy Generated!\n\nYour marketing funnel visualization has been created for "${businessName}".\n\nExplore the interactive 3D model above!`);
            
            // Scroll to visualization
            document.querySelector('.visualization-section').scrollIntoView({ 
                behavior: 'smooth',
                block: 'center'
            });
        }

        function updateFunnelVisualization(industry, budget, goal) {
            // Change funnel colors based on industry
            const industryColors = {
                'ecommerce': 0xFF3B30,     // Red
                'restaurant': 0x4CD964,    // Green
                'technology': 0x007AFF,    // Blue
                'realestate': 0xFF9500,    // Orange
                'health': 0x5856D6,        // Purple
                'education': 0xFF2D55,     // Pink
                'tourism': 0x34C759,       // Light Green
                'other': 0x00D4FF          // AI Blue
            };
            
            // Update funnel color
            if (funnelMesh && funnelMesh.material) {
                funnelMesh.material.color.setHex(industryColors[industry] || 0x00D4FF);
            }
            
            // Start rotation for visual effect
            isRotating = true;
            setTimeout(() => {
                isRotating = false;
            }, 3000);
        }
    </script>
</body>
</html>
